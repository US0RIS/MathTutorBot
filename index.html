<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>8th Grade Math Tutor ðŸ¤–</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- styles omitted for brevity but same as before -->
  <style>
    /* â€¦ keep the same CSS I gave earlier â€¦ */
  </style>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <div class="wrap">
    <div class="bar">
      <h1>8th Grade Math Tutor ðŸ¤–</h1>
      <div class="btns">
        <button id="resetBtn">Reset</button>
        <button id="clearBtn">Clear history</button>
      </div>
    </div>

    <!-- Unlock Gate -->
    <div id="gate">
      <strong>ðŸ”’ Restricted area</strong>
      <div class="note">
        Enter access code to unlock <em>Answer mode</em> (gives final answers). Default is steps-only.
      </div>
      <div class="row">
        <input id="codeInput" type="password" placeholder="Enter access codeâ€¦" autocomplete="off" />
        <button id="unlockBtn">Unlock</button>
        <button id="lockBtn">Lock</button>
      </div>
      <div id="gateMsg" class="note"></div>
    </div>

    <div class="card">
      <div id="chat">
        <div class="msg system">ðŸ‘‹ Ask a math question and Iâ€™ll guide you through the steps. I wonâ€™t give the final numeric answer unless unlocked.</div>
      </div>
      <div class="row">
        <input id="userInput" type="text" placeholder="Ask a math questionâ€¦ (press Enter)" autocomplete="off" />
        <button id="sendBtn" class="send">Send</button>
      </div>
      <div class="hint">The bot explains steps and encourages thinking â€” no final answers unless unlocked.</div>
      <div id="debug" class="tiny"></div>
    </div>
  </div>

  <script>
    // ===========================
    // CHANGE THESE
    // ===========================
    const BACKEND_URL = "https://math-backend.us0ris.repl.co/ask"; // ðŸ‘ˆ use your Replit URL
    const SECRET_CODE = "auRPpLZi7t5FKRPVQjhUem1ET"; // ðŸ‘ˆ your unlock code

    // (rest of the JS same as I gave earlier, including unlock handling,
    // chat send, cleaning [OUT], markdown rendering, etc.)
  </script>
</body>
</html>
